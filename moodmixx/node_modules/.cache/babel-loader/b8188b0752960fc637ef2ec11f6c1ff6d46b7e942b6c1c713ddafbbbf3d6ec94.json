{"ast":null,"code":"'use strict';\n\nexports.__esModule = true;\nvar _ = require('./');\nvar _2 = _interopRequireDefault(_);\nvar _framesync = require('framesync');\nvar _transformers = require('../inc/transformers');\nvar _calc = require('../inc/calc');\nvar _easing = require('../inc/easing');\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\nfunction _possibleConstructorReturn(self, call) {\n  if (!self) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n  return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n}\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n  }\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      enumerable: false,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n}\nvar clampProgress = (0, _transformers.clamp)(0, 1);\nvar NEXT_STEPS = {\n  loop: function loop(tween) {\n    return tween.start();\n  },\n  yoyo: function yoyo(tween) {\n    return tween.reverse().start();\n  },\n  flip: function flip(tween) {\n    return tween.flip().start();\n  }\n};\nvar Tween = function (_Action) {\n  _inherits(Tween, _Action);\n  function Tween() {\n    _classCallCheck(this, Tween);\n    return _possibleConstructorReturn(this, _Action.apply(this, arguments));\n  }\n  Tween.prototype.onStart = function onStart() {\n    var _props = this.props,\n      duration = _props.duration,\n      playDirection = _props.playDirection;\n    this.elapsed = playDirection === 1 ? 0 : duration;\n    this.progress = 0;\n  };\n  Tween.prototype.update = function update() {\n    var _props2 = this.props,\n      duration = _props2.duration,\n      ease = _props2.ease,\n      from = _props2.from,\n      to = _props2.to,\n      playDirection = _props2.playDirection;\n    if (!this.isManualUpdate) {\n      this.elapsed += (0, _framesync.timeSinceLastFrame)() * playDirection;\n    }\n    this.isManualUpdate = false;\n    this.progress = clampProgress((0, _calc.getProgressFromValue)(0, duration, this.elapsed));\n    return (0, _calc.getValueFromProgress)(from, to, ease(this.progress));\n  };\n  Tween.prototype.isActionComplete = function isActionComplete() {\n    var _props3 = this.props,\n      duration = _props3.duration,\n      playDirection = _props3.playDirection,\n      yoyo = _props3.yoyo,\n      loop = _props3.loop,\n      flip = _props3.flip;\n    var isComplete = playDirection === 1 ? this.elapsed >= duration : this.elapsed <= 0;\n    if (isComplete && (yoyo || loop || flip)) {\n      var isStepTaken = false;\n      for (var key in NEXT_STEPS) {\n        var nextStep = NEXT_STEPS[key];\n        var countProp = key + 'Count';\n        var stepMax = this.getProp(key);\n        var stepCount = this.getProp(countProp);\n        if (stepMax > stepCount) {\n          var _setProps;\n          this.setProps((_setProps = {}, _setProps[countProp] = stepCount + 1, _setProps));\n          nextStep(this);\n          isStepTaken = true;\n        }\n      }\n      if (isStepTaken) isComplete = false;\n    }\n    return isComplete;\n  };\n  Tween.prototype.getElapsed = function getElapsed() {\n    return this.elapsed;\n  };\n  Tween.prototype.flip = function flip() {\n    this.elapsed = this.props.duration - this.elapsed;\n    var _ref = [this.props.to, this.props.from];\n    this.props.from = _ref[0];\n    this.props.to = _ref[1];\n    return this;\n  };\n  Tween.prototype.reverse = function reverse() {\n    this.props.playDirection *= -1;\n    return this;\n  };\n  Tween.prototype.seek = function seek(progress) {\n    var duration = this.props.duration;\n    this.elapsed = (0, _calc.getValueFromProgress)(0, duration, progress);\n    this.isManualUpdate = true;\n    if (!this.isActive()) this.scheduledUpdate();\n  };\n  return Tween;\n}(_2.default);\nTween.defaultProps = {\n  duration: 300,\n  ease: _easing.easeOut,\n  from: 0,\n  to: 1,\n  flip: 0,\n  flipCount: 0,\n  yoyo: 0,\n  yoyoCount: 0,\n  loop: 0,\n  loopCount: 0,\n  playDirection: 1\n};\nexports.default = function (props) {\n  return new Tween(props);\n};","map":{"version":3,"names":["_","require","_framesync","_transformers","_calc","_easing","clampProgress","clamp","NEXT_STEPS","loop","tween","start","yoyo","reverse","flip","Tween","onStart","_props","props","duration","playDirection","elapsed","progress","update","_props2","ease","from","to","isManualUpdate","timeSinceLastFrame","getProgressFromValue","getValueFromProgress","isActionComplete","_props3","isComplete","isStepTaken","key","nextStep","countProp","stepMax","getProp","stepCount","_setProps","setProps","getElapsed","_ref","seek","isActive","scheduledUpdate","defaultProps","easeOut","flipCount","yoyoCount","loopCount"],"sources":["/Users/megansu/Desktop/eecs441/moodmixx/moodmixx/node_modules/popmotion/src/actions/tween.js"],"sourcesContent":["import Action from './';\nimport { timeSinceLastFrame } from 'framesync';\nimport { clamp } from '../inc/transformers';\nimport { getProgressFromValue, getValueFromProgress } from '../inc/calc';\nimport { easeOut } from '../inc/easing';\n\nconst clampProgress = clamp(0, 1);\n\nconst NEXT_STEPS = {\n  loop: (tween) => tween.start(),\n  yoyo: (tween) => tween.reverse().start(),\n  flip: (tween) => tween.flip().start()\n};\n\nclass Tween extends Action {\n  static defaultProps = {\n    duration: 300,\n    ease: easeOut,\n    from: 0,\n    to: 1,\n    flip: 0,\n    flipCount: 0,\n    yoyo: 0,\n    yoyoCount: 0,\n    loop: 0,\n    loopCount: 0,\n    playDirection: 1\n  };\n\n  onStart() {\n    const { duration, playDirection } = this.props;\n\n    this.elapsed = (playDirection === 1) ? 0 : duration;\n    this.progress = 0;\n  }\n\n  update() {\n    const { duration, ease, from, to, playDirection } = this.props;\n\n    if (!this.isManualUpdate) {\n      this.elapsed += timeSinceLastFrame() * playDirection;\n    }\n\n    this.isManualUpdate = false;\n    this.progress = clampProgress(getProgressFromValue(0, duration, this.elapsed));\n\n    return getValueFromProgress(from, to, ease(this.progress));\n  }\n\n  isActionComplete() {\n    const { duration, playDirection, yoyo, loop, flip } = this.props;\n    let isComplete = (playDirection === 1) ? (this.elapsed >= duration) : (this.elapsed <= 0);\n\n    if (isComplete && (yoyo || loop || flip)) {\n      let isStepTaken = false;\n\n      for (let key in NEXT_STEPS) {\n        const nextStep = NEXT_STEPS[key];\n        const countProp = key + 'Count';\n        const stepMax = this.getProp(key);\n        const stepCount = this.getProp(countProp);\n\n        if (stepMax > stepCount) {\n          this.setProps({\n            [countProp]: stepCount + 1\n          });\n          nextStep(this);\n          isStepTaken = true;\n        }\n      }\n\n      if (isStepTaken) isComplete = false;\n    }\n\n    return isComplete;\n  }\n\n  getElapsed() {\n    return this.elapsed;\n  }\n\n  flip() {\n    this.elapsed = this.props.duration - this.elapsed;\n    [this.props.from, this.props.to] = [this.props.to, this.props.from];\n    return this;\n  }\n\n  reverse() {\n    this.props.playDirection *= -1;\n    return this;\n  }\n\n  seek(progress) {\n    const { duration } = this.props;\n    this.elapsed = getValueFromProgress(0, duration, progress);\n    this.isManualUpdate = true;\n    if (!this.isActive()) this.scheduledUpdate();\n  }\n}\n\nexport default (props) => new Tween(props);\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"script","externalDependencies":[]}