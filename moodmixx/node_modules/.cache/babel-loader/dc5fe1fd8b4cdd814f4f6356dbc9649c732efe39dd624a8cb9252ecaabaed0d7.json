{"ast":null,"code":"'use strict';\n\nexports.__esModule = true;\nvar _extends = Object.assign || function (target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i];\n    for (var key in source) {\n      if (Object.prototype.hasOwnProperty.call(source, key)) {\n        target[key] = source[key];\n      }\n    }\n  }\n  return target;\n};\nvar _framesync = require('framesync');\nvar _calc = require('../inc/calc');\nfunction _objectWithoutProperties(obj, keys) {\n  var target = {};\n  for (var i in obj) {\n    if (keys.indexOf(i) >= 0) continue;\n    if (!Object.prototype.hasOwnProperty.call(obj, i)) continue;\n    target[i] = obj[i];\n  }\n  return target;\n}\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\nvar Action = function () {\n  // lawsuit - sorry\n  function Action() {\n    var _this = this;\n    var props = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    _classCallCheck(this, Action);\n    this.scheduledUpdate = function () {\n      _this.lastUpdated = (0, _framesync.timeSinceLastFrame)();\n      _this.prev = _this.current;\n      var _props = _this.props,\n        onUpdate = _props.onUpdate,\n        passive = _props.passive;\n      if (_this.update) {\n        _this.current = _this.update(_this.current);\n      }\n      if (onUpdate) {\n        if (onUpdate.registerAction) {\n          onUpdate.set(_this.get());\n        } else {\n          onUpdate(_this.get(), _this);\n        }\n      }\n      _this.fireListeners();\n      if (!passive && _this._isActive) {\n        (0, _framesync.onFrameUpdate)(_this.scheduledUpdate);\n      }\n      if (_this.isActionComplete && _this.isActionComplete()) {\n        _this.complete();\n      }\n      return _this;\n    };\n    this.props = _extends({}, this.constructor.defaultProps);\n    this.setProps(props);\n    this.lastUpdated = 0;\n    this.prev = this.current = props.current || props.from || 0;\n  }\n  Action.prototype.start = function start() {\n    var _props2 = this.props,\n      onStart = _props2.onStart,\n      _onStart = _props2._onStart,\n      passive = _props2.passive;\n    if (!passive) {\n      this._isActive = true;\n      (0, _framesync.onFrameUpdate)(this.scheduledUpdate);\n    }\n    if (this.onStart) this.onStart();\n    if (onStart) onStart(this);\n    if (_onStart) _onStart(this);\n    return this;\n  };\n  Action.prototype.stop = function stop() {\n    var _props3 = this.props,\n      onStop = _props3.onStop,\n      _onStop = _props3._onStop,\n      passive = _props3.passive;\n    if (!passive) {\n      this._isActive = false;\n      (0, _framesync.cancelOnFrameUpdate)(this.scheduledUpdate);\n    }\n    if (this.onStop) this.onStop();\n    if (onStop) onStop(this);\n    if (_onStop) _onStop(this);\n    return this;\n  };\n  Action.prototype.complete = function complete() {\n    var _props4 = this.props,\n      onComplete = _props4.onComplete,\n      _onComplete = _props4._onComplete;\n    this.stop();\n    if (this.onComplete) this.onComplete();\n    if (onComplete) onComplete(this);\n    if (_onComplete) _onComplete(this);\n    return this;\n  };\n  Action.prototype.setProps = function setProps(_ref) {\n    var onUpdate = _ref.onUpdate,\n      props = _objectWithoutProperties(_ref, ['onUpdate']);\n    this.props = _extends({}, this.props, props);\n    if (onUpdate) this.output(onUpdate);\n    return this;\n  };\n  Action.prototype.output = function output(func) {\n    this.props.onUpdate = func;\n    if (func.registerAction) func.registerAction(this);\n    return this;\n  };\n  Action.prototype.get = function get() {\n    var transform = this.props.transform;\n    return transform ? transform(this.current) : this.current;\n  };\n  Action.prototype.getBeforeTransform = function getBeforeTransform() {\n    return this.current;\n  };\n  Action.prototype.set = function set(v) {\n    this.current = v;\n    return this;\n  };\n  Action.prototype.getProp = function getProp(key) {\n    return this.props[key];\n  };\n  Action.prototype.getVelocity = function getVelocity() {\n    return (0, _calc.speedPerSecond)(this.current - this.prev, this.lastUpdated);\n  };\n  Action.prototype.isActive = function isActive() {\n    return this._isActive;\n  };\n  Action.prototype.addListener = function addListener(listener) {\n    this.listeners = this.listeners || [];\n    this.numListeners = this.numListeners || 0;\n    if (this.listeners.indexOf(listener) === -1) {\n      this.listeners.push(listener);\n      this.numListeners++;\n    }\n    return this;\n  };\n  Action.prototype.removeListener = function removeListener(listener) {\n    var listenerIndex = this.listeners ? this.listeners.indexOf(listener) : -1;\n    if (listenerIndex !== -1) {\n      this.numListeners--;\n      this.listeners.splice(listenerIndex, 1);\n    }\n    return this;\n  };\n  Action.prototype.fireListeners = function fireListeners() {\n    var current = this.get();\n    for (var i = 0; i < this.numListeners; i++) {\n      this.listeners[i](current, this);\n    }\n    return this;\n  };\n  return Action;\n}();\nexports.default = Action;","map":{"version":3,"names":["_framesync","require","_calc","Action","_this","props","arguments","length","undefined","_classCallCheck","scheduledUpdate","lastUpdated","timeSinceLastFrame","prev","current","_props","onUpdate","passive","update","registerAction","set","get","fireListeners","_isActive","onFrameUpdate","isActionComplete","complete","_extends","constructor","defaultProps","setProps","from","start","_props2","onStart","_onStart","stop","_props3","onStop","_onStop","cancelOnFrameUpdate","_props4","onComplete","_onComplete","_ref","_objectWithoutProperties","output","func","transform","getBeforeTransform","v","getProp","key","getVelocity","speedPerSecond","isActive","addListener","listener","listeners","numListeners","indexOf","push","removeListener","listenerIndex","splice","i"],"sources":["/Users/megansu/Desktop/eecs441/moodmixx/moodmixx/node_modules/popmotion/src/actions/index.js"],"sourcesContent":["import { onFrameUpdate, cancelOnFrameUpdate, timeSinceLastFrame } from 'framesync';\nimport { speedPerSecond } from '../inc/calc';\n\nclass Action { // lawsuit - sorry\n  constructor(props = {}) {\n    this.props = {\n      ...this.constructor.defaultProps\n    };\n\n    this.setProps(props);\n\n    this.lastUpdated = 0;\n    this.prev = this.current = props.current || props.from || 0;\n  }\n\n  start() {\n    const { onStart, _onStart, passive } = this.props;\n\n    if (!passive) {\n      this._isActive = true;\n      onFrameUpdate(this.scheduledUpdate);\n    }\n\n    if (this.onStart) this.onStart();\n    if (onStart) onStart(this);\n    if (_onStart) _onStart(this);\n\n    return this;\n  }\n\n  stop() {\n    const { onStop, _onStop, passive } = this.props;\n\n    if (!passive) {\n      this._isActive = false;\n      cancelOnFrameUpdate(this.scheduledUpdate);\n    }\n\n    if (this.onStop) this.onStop();\n    if (onStop) onStop(this);\n    if (_onStop) _onStop(this);\n\n    return this;\n  }\n\n  complete() {\n    const { onComplete, _onComplete } = this.props;\n\n    this.stop();\n\n    if (this.onComplete) this.onComplete();\n    if (onComplete) onComplete(this);\n    if (_onComplete) _onComplete(this);\n\n    return this;\n  }\n\n  scheduledUpdate = () => {\n    this.lastUpdated = timeSinceLastFrame();\n    this.prev = this.current;\n\n    const { onUpdate, passive } = this.props;\n\n    if (this.update) {\n      this.current = this.update(this.current);\n    }\n\n    if (onUpdate) {\n      if (onUpdate.registerAction) {\n        onUpdate.set(this.get());\n      } else {\n        onUpdate(this.get(), this);\n      }\n    }\n\n    this.fireListeners();\n\n    if (!passive && this._isActive) {\n      onFrameUpdate(this.scheduledUpdate);\n    }\n\n    if (this.isActionComplete && this.isActionComplete()) {\n      this.complete();\n    }\n\n    return this;\n  };\n\n  setProps({ onUpdate, ...props }) {\n    this.props = {\n      ...this.props,\n      ...props\n    };\n\n    if (onUpdate) this.output(onUpdate);\n\n    return this;\n  }\n\n  output(func) {\n    this.props.onUpdate = func;\n    if (func.registerAction) func.registerAction(this);\n\n    return this;\n  }\n\n  get() {\n    const { transform } = this.props;\n    return transform ? transform(this.current) : this.current;\n  }\n\n  getBeforeTransform() {\n    return this.current;\n  }\n\n  set(v) {\n    this.current = v;\n    return this;\n  }\n\n  getProp(key) {\n    return this.props[key];\n  }\n\n  getVelocity() {\n    return speedPerSecond(this.current - this.prev, this.lastUpdated);\n  }\n\n  isActive() {\n    return this._isActive;\n  }\n\n  addListener(listener) {\n    this.listeners = this.listeners || [];\n    this.numListeners = this.numListeners || 0;\n    if (this.listeners.indexOf(listener) === -1) {\n      this.listeners.push(listener);\n      this.numListeners++;\n    }\n    return this;\n  }\n\n  removeListener(listener) {\n    const listenerIndex = (this.listeners) ? this.listeners.indexOf(listener) : -1;\n    if (listenerIndex !== -1) {\n      this.numListeners--;\n      this.listeners.splice(listenerIndex, 1);\n    }\n    return this;\n  }\n\n  fireListeners() {\n    const current = this.get();\n    for (let i = 0; i < this.numListeners; i++) {\n      this.listeners[i](current, this);\n    }\n    return this;\n  }\n}\n\nexport default Action;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"script","externalDependencies":[]}