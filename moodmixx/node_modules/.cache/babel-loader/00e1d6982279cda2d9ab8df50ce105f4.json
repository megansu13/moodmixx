{"ast":null,"code":"'use strict';\n\nexports.__esModule = true;\nvar _extends = Object.assign || function (target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i];\n    for (var key in source) {\n      if (Object.prototype.hasOwnProperty.call(source, key)) {\n        target[key] = source[key];\n      }\n    }\n  }\n  return target;\n};\nvar _value = require('./value');\nvar _value2 = _interopRequireDefault(_value);\nvar _composite = require('./composite');\nvar _composite2 = _interopRequireDefault(_composite);\nvar _parallel = require('./parallel');\nvar _parallel2 = _interopRequireDefault(_parallel);\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\nfunction _objectWithoutProperties(obj, keys) {\n  var target = {};\n  for (var i in obj) {\n    if (keys.indexOf(i) >= 0) continue;\n    if (!Object.prototype.hasOwnProperty.call(obj, i)) continue;\n    target[i] = obj[i];\n  }\n  return target;\n}\nfunction createTouches(initialTouches, _ref) {\n  var eventToTouches = _ref.eventToTouches,\n    moveEvent = _ref.moveEvent,\n    props = _objectWithoutProperties(_ref, ['eventToTouches', 'moveEvent']);\n  var touches = (0, _parallel2.default)(mapCoordsToActions(initialTouches), _extends({\n    preventDefault: true\n  }, props));\n  function updateTouches(e) {\n    if (props.preventDefault) e.preventDefault();\n    var latestTouches = eventToTouches(e);\n    updateActionWithTouches(touches, latestTouches);\n  }\n  touches.setProps({\n    _onStart: function _onStart() {\n      return document.documentElement.addEventListener(moveEvent, updateTouches);\n    },\n    _onStop: function _onStop() {\n      return document.documentElement.removeEventListener(moveEvent, updateTouches);\n    }\n  });\n  return touches;\n}\nfunction mapCoordsToActions(coords) {\n  var actions = [];\n  for (var i = 0; i < coords.length; i++) {\n    var _coords$i = coords[i],\n      x = _coords$i.x,\n      y = _coords$i.y;\n    actions[i] = (0, _composite2.default)({\n      x: (0, _value2.default)(x),\n      y: (0, _value2.default)(y)\n    });\n  }\n  return actions;\n}\nfunction updateActionWithTouches(touches, newTouches) {\n  for (var i = 0; i < newTouches.length; i++) {\n    var _newTouches$i = newTouches[i],\n      x = _newTouches$i.x,\n      y = _newTouches$i.y;\n    var touchActions = touches.getChildren();\n    var touchAction = touchActions[i];\n    if (touchAction !== undefined) {\n      touchAction.x.set(x);\n      touchAction.y.set(y);\n    } else {\n      touches.addAction((0, _composite2.default)({\n        x: (0, _value2.default)(x),\n        y: (0, _value2.default)(y)\n      }));\n    }\n  }\n}\nvar mouseEventToTouches = function mouseEventToTouches(_ref2) {\n  var pageX = _ref2.pageX,\n    pageY = _ref2.pageY;\n  return [{\n    x: pageX,\n    y: pageY\n  }];\n};\nvar touchEventToTouches = function touchEventToTouches(_ref3) {\n  var touches = _ref3.touches;\n  return extractCoords(touches);\n};\nfunction extractCoords(touches) {\n  var coords = [];\n  for (var i = 0; i < touches.length; i++) {\n    var _touches$i = touches[i],\n      clientX = _touches$i.clientX,\n      clientY = _touches$i.clientY;\n    coords[i] = {\n      x: clientX,\n      y: clientY\n    };\n  }\n  return coords;\n}\nvar getNativeEvent = function getNativeEvent(e) {\n  return e.originalEvent || e.nativeEvent || e;\n};\nexports.default = function (e, props) {\n  var nativeEvent = getNativeEvent(e);\n  return nativeEvent.touches ? createTouches(touchEventToTouches(e), _extends({\n    moveEvent: 'touchmove',\n    eventToTouches: touchEventToTouches\n  }, props)) : createTouches(mouseEventToTouches(e), _extends({\n    moveEvent: 'mousemove',\n    eventToTouches: mouseEventToTouches\n  }, props));\n};","map":{"version":3,"mappings":"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","names":["createTouches","initialTouches","eventToTouches","moveEvent","props","touches","mapCoordsToActions","preventDefault","updateTouches","e","latestTouches","updateActionWithTouches","setProps","_onStart","document","documentElement","addEventListener","_onStop","removeEventListener","coords","actions","i","length","x","y","newTouches","touchActions","getChildren","touchAction","undefined","set","addAction","mouseEventToTouches","pageX","pageY","touchEventToTouches","extractCoords","clientX","clientY","getNativeEvent","originalEvent","nativeEvent"],"sources":["/Users/gunhaar/Desktop/441proj/moodmixx/node_modules/popmotion/src/actions/touches.js"],"sourcesContent":["import value from './value';\nimport composite from './composite';\nimport parallel from './parallel';\n\nfunction createTouches(initialTouches, { eventToTouches, moveEvent, ...props }) {\n  const touches = parallel(mapCoordsToActions(initialTouches), {\n    preventDefault: true,\n    ...props\n  });\n\n  function updateTouches(e) {\n    if (props.preventDefault) e.preventDefault();\n\n    const latestTouches = eventToTouches(e);\n    updateActionWithTouches(touches, latestTouches);\n  }\n\n  touches.setProps({\n    _onStart: () => document.documentElement.addEventListener(moveEvent, updateTouches),\n    _onStop: () => document.documentElement.removeEventListener(moveEvent, updateTouches)\n  });\n\n  return touches;\n}\n\nfunction mapCoordsToActions(coords) {\n  let actions = [];\n  for (let i = 0; i < coords.length; i++) {\n    const { x, y } = coords[i];\n    actions[i] = composite({\n      x: value(x),\n      y: value(y)\n    });\n  }\n  return actions;\n}\n\nfunction updateActionWithTouches(touches, newTouches) {\n  for (let i = 0; i < newTouches.length; i++) {\n    const { x, y } = newTouches[i];\n    const touchActions = touches.getChildren();\n    const touchAction = touchActions[i];\n    if (touchAction !== undefined) {\n      touchAction.x.set(x);\n      touchAction.y.set(y);\n    } else {\n      touches.addAction(composite({\n        x: value(x),\n        y: value(y)\n      }));\n    }\n  }\n}\n\nconst mouseEventToTouches = ({ pageX, pageY }) => [{ x: pageX, y: pageY }];\nconst touchEventToTouches = ({ touches }) => extractCoords(touches);\n\nfunction extractCoords(touches) {\n  let coords = [];\n  for (var i = 0; i < touches.length; i++) {\n    const { clientX, clientY } = touches[i];\n    coords[i] = {\n      x: clientX,\n      y: clientY\n    };\n  }\n  return coords;\n}\n\nconst getNativeEvent = (e) => e.originalEvent || e.nativeEvent || e;\n\nexport default (e, props) => {\n  const nativeEvent = getNativeEvent(e);\n  return (nativeEvent.touches) ?\n    createTouches(touchEventToTouches(e), {\n      moveEvent: 'touchmove',\n      eventToTouches: touchEventToTouches,\n      ...props\n    }) :\n    createTouches(mouseEventToTouches(e), {\n      moveEvent: 'mousemove',\n      eventToTouches: mouseEventToTouches,\n      ...props\n    });\n};\n"]},"metadata":{},"sourceType":"script"}